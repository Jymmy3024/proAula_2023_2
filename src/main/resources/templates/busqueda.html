

<html xmlsn:th="http://www.thymeleaf.org">
    <head>
        <title>Busqueda</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Link Boostrap 5 -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
              rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

        <!-- Link Swiper's CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

        <style>
            *{
                margin:0;
                padding:0;
                box-sizing: border-box;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            }
            body {
                background-image: url('https://www.enretail.com/wp-content/uploads/2020/03/eCommerce-1.jpg');
                margin-top: auto;
                background-size: cover;
                background-repeat: no-repeat;
                background-attachment: fixed;
            }

            .container{
                width: 100%;
                align-items: center;
                justify-content: center;
            }
            .section{
                width: 100%;
                height: 100%;

            }

            .swiper {
                width: 100%;
                height: 30%;
            }


            .swiper swiper-slide, h5{
                text-align: center;
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .swiper-slide .card{
                border-radius: 2em;
                overflow: hidden;
                margin: 4px;
                box-shadow: 0 0 10px rgba(196, 196, 196, 0.1);
            }
            .card .card-image {
                display: flow;
                width: 100%;
                height: 150px;
                object-fit: cover;
            }

            .card-title{
                text-align: center;
                color: dodgerblue;
                margin: 0.25em;
            }

            .swiper-title{
                text-align: left;
            }

        </style>
    </head>

    <body>
        <header th:replace="~{plantillas/indexPartes :: cabecera}"></header>

        <div th:if='${busqueda} != null' class="text-center" style="background-color: gainsboro" >
            <h3 class="text-dark" th:text="|Resultados de '${busqueda}'|"></h3>
        </div>
        <br>
        <div class="container">

            <div th:if="${exception} != null">
                <span class="alert alert-danger" th:text="${exception}"></span>
            </div>
            <div th:if='${tiendas != null &&  !tiendas.empty}'>
                <h4 class="swiper-title">Tiendas</h4>
                <section class="swiper mySwiper">                
                    <div class="wrapper swiper-wrapper" th:if="${tiendas!= null && !tiendas.empty}">
                        <div class="item swiper-slide" th:each="t : ${tiendas}">
                            <a th:href="@{#}" class="text-decoration-none">
                                <div class="card">                                                                
                                    <div class="card-title">
                                        <h5 th:text="${t.nombre}"></h5>
                                    </div>
                                    <img class="card-image" th:src="@{/assets/{filename}(filename=${t.ruta_imagen})}" th:alt="@{${t.ruta_imagen}}"/>
                                </div>
                            </a>     
                        </div>                    
                    </div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-pagination"></div>
                </section>    
            </div>
            <br>                       


            <div th:if="${productosInTienda == NULL OR productosInTienda.empty}">
                <div class="card align-items-center"><h4 class='text-danger'>No se encontraron resultados</h4></div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <!--<footer th:replace="~{plantillas/indexPartes :: piePagina}"></footer>-->

        <!-- Swiper JS -->
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

        <!-- Initialize Swiper -->
        <script>
            var swiper = new Swiper(".mySwiper", {
                slidesPerView: 3,
                spaceBetween: 30,
                freeMode: true,
                //loop: true,
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                pagination: {
                    el: ".swiper-pagination",
                    clickable: true,
                },
                breakpoints: {
                    320: {
                        slidesPerView: 2,
                        spaceBetween: 20,
                    },
                    768: {
                        slidesPerView: 4,
                        spaceBetween: 40,
                    },
                    1024: {
                        slidesPerView: 5,
                        spaceBetween: 50,
                    },
                },
                mousewheel: true,
                keyboard: true,
            });
        </script>
    </body>
</html>